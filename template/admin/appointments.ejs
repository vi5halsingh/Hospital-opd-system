<h2>Appointments</h2>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Patient</th>
      <th>Doctor</th>
      <th>Date</th>
      <th>Time</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% appointments.forEach(appointment => { %>
      <tr>
        <td><%= appointment.patient.fullName %></td>
        <td><%= appointment.doctor.firstName %> <%= appointment.doctor.lastName %></td>
        <td><%= appointment.date.toDateString() %></td>
        <td><%= appointment.time %></td>
        <td><%= appointment.status %></td>
        <td>
          <form action="/admin/appointments/update" method="POST" style="display: inline;">
            <input type="hidden" name="appointmentId" value="<%= appointment._id %>">
            <select name="status" class="form-select">
              <option value="Pending" <%= appointment.status === 'Pending' ? 'selected' : '' %>>Pending</option>
              <option value="Checked" <%= appointment.status === 'Checked' ? 'selected' : '' %>>Checked</option>
            </select>
            <button type="submit" class="btn btn-sm btn-primary mt-2">Update</button>
          </form>
        </td>
      </tr>
    <% }); %>
  </tbody>
</table>
